<!DOCTYPE html>
<html lang="tr">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0"
		/>
		<meta
			http-equiv="Content-Security-Policy"
			content="default-src 'self'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data:; connect-src 'self' https://generativelanguage.googleapis.com;"
		/>
		<title>Azure DevOps AC Generator</title>
		<link rel="icon" type="image/png" href="images/icon16.png" />
		<link
			rel="preconnect"
			href="https://fonts.googleapis.com"
			crossorigin
		/>
		<link
			rel="preconnect"
			href="https://fonts.gstatic.com"
			crossorigin
		/>
		<link
			href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
			rel="stylesheet"
			type="text/css"
		/>
		<style>
			@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

			:root {
				--primary-color: #0078d4;
				--primary-dark: #106ebe;
				--primary-light: #deecf9;
				--accent-color: #5c2d91;
				--border-color: rgba(255, 255, 255, 0.2);
				--text-color: #ffffff;
				--text-secondary: rgba(255, 255, 255, 0.7);
				--error-color: #ff5252;
				--success-color: #4cd964;
				--bg-gradient: linear-gradient(135deg, #0078d4, #004e8c);
				--card-bg: rgba(255, 255, 255, 0.1);
				--shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
				--header-gradient: linear-gradient(135deg, #005bac, #004080);
				--button-gradient: linear-gradient(
					to right,
					#0078d4,
					#005bac
				);
				--tab-active-gradient: linear-gradient(
					to bottom,
					rgba(255, 255, 255, 0.2),
					rgba(255, 255, 255, 0.1)
				);
				--transition: all 0.15s ease-in-out;
				--font-family: 'Inter', -apple-system, BlinkMacSystemFont,
					Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
			}

			* {
				box-sizing: border-box;
				margin: 0;
				padding: 0;
			}

			body {
				width: 460px;
				padding: 0;
				font-family: var(--font-family);
				margin: 0;
				color: var(--text-color);
				background: var(--bg-gradient);
				line-height: 1.5;
				font-size: 14px;
				min-height: 100vh;
				display: flex;
				flex-direction: column;
			}

			.header {
				background: var(--header-gradient);
				color: white;
				padding: 20px 24px;
				border-bottom: 1px solid var(--border-color);
				box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
			}

			.header-logo {
				float: left;
				margin-right: 10px;
			}

			.header-logo img {
				width: 32px;
				height: 32px;
			}

			.header-text {
				display: flex;
				flex-direction: column;
			}

			.header h3 {
				margin: 0;
				font-size: 20px;
				font-weight: 600;
				display: flex;
				align-items: center;
			}

			.header h3::before {
				content: '';
				display: inline-block;
				width: 24px;
				height: 24px;
				margin-right: 10px;
				background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGQ9Ik0yMiAxMS4wOFYxMmExMCAxMCAwIDEgMS01LjkzLTkuMTQiPjwvcGF0aD48cG9seWxpbmUgcG9pbnRzPSIyMiA0IDEyIDE0LjAxIDkgMTEuMDEiPjwvcG9seWxpbmU+PC9zdmc+');
				background-repeat: no-repeat;
				background-position: center;
				background-size: contain;
			}

			.header p {
				margin: 4px 0 0 34px;
				opacity: 0.9;
				font-size: 13px;
				font-weight: 400;
			}

			.container {
				display: flex;
				flex-direction: column;
				gap: 16px;
				padding: 16px 24px 24px;
				flex: 1;
			}

			.card {
				background-color: var(--card-bg);
				border-radius: 12px;
				padding: 20px;
				transition: var(--transition);
				border: 1px solid var(--border-color);
				backdrop-filter: blur(10px);
				box-shadow: var(--shadow);
			}

			.tabs {
				display: flex;
				margin-bottom: 16px;
				border-bottom: 1px solid var(--border-color);
				gap: 2px;
			}

			.tab {
				padding: 10px 16px;
				cursor: pointer;
				border-radius: 8px 8px 0 0;
				font-weight: 500;
				transition: var(--transition);
				opacity: 0.7;
				border: 1px solid transparent;
				border-bottom: none;
				position: relative;
				top: 1px;
			}

			.tab.active {
				opacity: 1;
				border-color: var(--border-color);
				background: var(--tab-active-gradient);
				box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
			}

			.tab-content {
				display: none;
			}

			.tab-content.active {
				display: block;
				animation: fadeIn 0.3s ease-out;
			}

			.field-group {
				display: flex;
				flex-direction: column;
				gap: 8px;
				margin-bottom: 18px;
			}

			.field-group:last-child {
				margin-bottom: 0;
			}

			label {
				font-weight: 500;
				color: var(--text-color);
				font-size: 14px;
				display: flex;
				align-items: center;
				gap: 8px;
			}

			input,
			textarea {
				width: 100%;
				padding: 12px 14px;
				border: 1px solid var(--border-color);
				border-radius: 8px;
				box-sizing: border-box;
				font-family: var(--font-family);
				font-size: 14px;
				transition: var(--transition);
				background-color: rgba(255, 255, 255, 0.08);
				color: var(--text-color);
			}

			input::placeholder,
			textarea::placeholder {
				color: rgba(255, 255, 255, 0.4);
			}

			input:focus,
			textarea:focus {
				outline: none;
				border-color: rgba(255, 255, 255, 0.5);
				box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
				background-color: rgba(255, 255, 255, 0.15);
			}

			textarea {
				height: 120px;
				resize: vertical;
				line-height: 1.5;
			}

			.button-group {
				display: flex;
				gap: 10px;
				margin-top: 20px;
			}

			button {
				background: var(--button-gradient);
				color: white;
				border: none;
				padding: 12px 20px;
				border-radius: 8px;
				font-weight: 600;
				cursor: pointer;
				transition: var(--transition);
				font-size: 14px;
				flex: 1;
				display: flex;
				align-items: center;
				justify-content: center;
				gap: 8px;
				height: 42px;
				box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
				text-transform: uppercase;
				letter-spacing: 0.5px;
			}

			button:disabled {
				background: rgba(255, 255, 255, 0.1);
				color: rgba(255, 255, 255, 0.4);
				cursor: not-allowed;
				box-shadow: none;
			}

			button.secondary {
				background: rgba(255, 255, 255, 0.15);
				color: var(--text-color);
				border: 1px solid var(--border-color);
			}

			.status {
				padding: 12px 16px;
				border-radius: 8px;
				font-size: 14px;
				display: none;
				animation: fadeIn 0.3s ease-in-out;
				margin-top: 16px;
			}

			@keyframes fadeIn {
				from {
					opacity: 0;
					transform: translateY(-5px);
				}
				to {
					opacity: 1;
					transform: translateY(0);
				}
			}

			.error {
				background-color: rgba(255, 82, 82, 0.15);
				color: var(--error-color);
				display: block;
				border-left: 3px solid var(--error-color);
			}

			.success {
				background-color: rgba(76, 217, 100, 0.15);
				color: var(--success-color);
				display: block;
				border-left: 3px solid var(--success-color);
			}

			.preview-container {
				display: none;
				border-radius: 8px;
				margin-top: 16px;
				background-color: rgba(255, 255, 255, 0.08);
				border: 1px solid var(--border-color);
				overflow: hidden;
				transition: var(--transition);
			}

			.preview-container.visible {
				display: block;
				animation: slideDown 0.3s ease-out;
			}

			@keyframes slideDown {
				from {
					opacity: 0;
					transform: translateY(-10px);
				}
				to {
					opacity: 1;
					transform: translateY(0);
				}
			}

			.preview-header {
				background-color: rgba(255, 255, 255, 0.1);
				padding: 12px 16px;
				border-bottom: 1px solid var(--border-color);
				display: flex;
				justify-content: space-between;
				align-items: center;
				gap: 8px;
			}

			.preview-title {
				font-weight: 600;
				margin: 0;
				color: var(--text-color);
				font-size: 14px;
				display: flex;
				align-items: center;
				gap: 8px;
				flex: 1;
				min-width: 0;
			}

			.preview-title::before {
				content: '';
				display: inline-block;
				width: 16px;
				height: 16px;
				background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGQ9Ik0yMiAxMS4wOFYxMmExMCAxMCAwIDEgMS01LjkzLTkuMTQiPjwvcGF0aD48cG9seWxpbmUgcG9pbnRzPSIyMiA0IDEyIDE0LjAxIDkgMTEuMDEiPjwvcG9seWxpbmU+PC9zdmc+');
				background-repeat: no-repeat;
				background-position: center;
				background-size: contain;
			}

			.copy-button {
				background: rgba(255, 255, 255, 0.1);
				border: 1px solid var(--border-color);
				padding: 0;
				cursor: pointer;
				color: var(--text-color);
				border-radius: 4px;
				display: flex;
				align-items: center;
				justify-content: center;
				width: 28px;
				height: 28px;
				transition: all 0.2s ease;
			}

			.icon-copy {
				background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>');
				background-repeat: no-repeat;
				background-position: center;
				background-size: 16px;
				width: 16px;
				height: 16px;
				display: inline-block;
			}

			.preview-content {
				white-space: pre-wrap;
				font-size: 13px;
				line-height: 1.6;
				padding: 16px;
				max-height: 200px;
				overflow-y: auto;
				color: var(--text-color);
			}

			.github-link {
				display: inline-flex;
				align-items: center;
				color: rgba(255, 255, 255, 0.7);
				transition: opacity 0.2s ease;
				text-decoration: none;
			}

			.github-link:hover {
				color: white;
			}

			.footer {
				display: flex;
				justify-content: end;
				align-items: center;
				margin-bottom: 16px;
				margin-right: 28px;
			}

			/* Fluent UI inspired scrollbar */
			::-webkit-scrollbar {
				width: 8px;
				height: 8px;
			}

			::-webkit-scrollbar-track {
				background: rgba(255, 255, 255, 0.05);
				border-radius: 4px;
			}

			::-webkit-scrollbar-thumb {
				background-color: rgba(255, 255, 255, 0.2);
				border-radius: 4px;
			}

			::-webkit-scrollbar-thumb:hover {
				background-color: rgba(255, 255, 255, 0.3);
			}

			/* Tooltip styles */
			.tooltip {
				position: relative;
				display: inline-block;
				margin-left: 4px;
			}

			.tooltip .tooltip-icon {
				display: inline-flex;
				align-items: center;
				justify-content: center;
				width: 16px;
				height: 16px;
				border-radius: 50%;
				background-color: rgba(255, 255, 255, 0.2);
				color: white;
				font-size: 11px;
				font-weight: bold;
				cursor: help;
			}

			.tooltip .tooltip-text {
				visibility: hidden;
				width: 200px;
				background-color: rgba(0, 0, 0, 0.8);
				color: #fff;
				text-align: left;
				border-radius: 8px;
				padding: 10px 12px;
				position: absolute;
				z-index: 1;
				bottom: 130%;
				left: 50%;
				margin-left: -100px;
				opacity: 0;
				transition: opacity 0.3s;
				font-weight: normal;
				font-size: 12px;
				line-height: 1.4;
				box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
				backdrop-filter: blur(4px);
			}

			.tooltip .tooltip-text::after {
				content: '';
				position: absolute;
				top: 100%;
				left: 50%;
				margin-left: -5px;
				border-width: 5px;
				border-style: solid;
				border-color: rgba(0, 0, 0, 0.8) transparent transparent
					transparent;
			}

			.tooltip:hover .tooltip-text {
				visibility: visible;
				opacity: 1;
			}
		</style>
	</head>
	<body>
		<div class="header">
			<div class="header-text">
				<h3>Azure DevOps Agent</h3>
				<p>
					Azure DevOps iş öğelerinize otomatik Acceptance Criteria
					oluşturun
				</p>
			</div>
		</div>

		<div class="container">
			<div class="card">
				<div class="tabs">
					<div class="tab active" data-tab="generator">
						Oluşturucu
					</div>
					<div class="tab" data-tab="settings">Ayarlar</div>
				</div>

				<div class="tab-content active" id="generator-content">
					<div class="field-group">
						<label for="description">
							İş Öğesi Açıklaması
							<div class="tooltip">
								<span class="tooltip-icon">?</span>
								<span class="tooltip-text"
									>Azure DevOps iş öğesi açıklamasını buraya
									yapıştırın. Bu metin, Acceptance Criteria oluşturmak
									için kullanılacaktır.</span
								>
							</div>
						</label>
						<textarea
							id="description"
							placeholder="Açıklamayı buraya yapıştırın"
							spellcheck="true"
						></textarea>
					</div>

					<div class="preview-container" id="previewContainer">
						<div class="preview-header">
							<div class="preview-title">Cevap</div>
							<button
								id="copyButton"
								class="copy-button"
								title="Kopyala"
							>
								<span class="icon icon-copy"></span>
							</button>
						</div>
						<div class="preview-content" id="previewContent"></div>
					</div>

					<div class="button-group">
						<button id="generateAC" class="secondary">
							Acceptance Criteria Oluştur
						</button>
					</div>
				</div>

				<div class="tab-content" id="settings-content">
					<div class="field-group">
						<label for="apiKey">
							Gemini API Anahtarı
							<div class="tooltip">
								<span class="tooltip-icon">?</span>
								<span class="tooltip-text"
									>Gemini API anahtarınızı buraya girin. Anahtarınız
									güvenli bir şekilde yerel olarak saklanır.</span
								>
							</div>
						</label>
						<input
							type="password"
							id="apiKey"
							placeholder="API anahtarınızı girin"
							spellcheck="false"
						/>
					</div>
					<div class="field-group">
						<label for="promptTemplate">
							Prompt Template
							<div class="tooltip">
								<span class="tooltip-icon">?</span>
								<span class="tooltip-text">
									Özel prompt template'inizi buraya girin.
								</span>
							</div>
						</label>
						<textarea
							id="promptTemplate"
							placeholder="Örnek: Aşağıdaki kriterleri de ekle:
- Edge case'leri belirt
- Performans kriterlerini ekle
- Güvenlik gereksinimlerini belirt"
							spellcheck="false"
							rows="4"
						></textarea>
					</div>
					<div class="button-group">
						<button id="saveSettings" class="secondary">
							Ayarları Kaydet
						</button>
					</div>
				</div>
			</div>

			<div id="status" class="status"></div>
		</div>

		<footer class="footer">
			<a
				href="https://github.com/berkayderin"
				target="_blank"
				class="github-link"
			>
			</a>
		</footer>

		<script src="popup.js"></script>
	</body>
</html>
